/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
(function (factory) {
    if (typeof module === "object" && typeof module.exports === "object") {
        var v = factory(require, exports);
        if (v !== undefined) module.exports = v;
    }
    else if (typeof define === "function" && define.amd) {
        define("@nguniversal/express-engine/schematics/testing/test-app", ["require", "exports", "@angular-devkit/schematics/testing", "path"], factory);
    }
})(function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var testing_1 = require("@angular-devkit/schematics/testing");
    var path_1 = require("path");
    /** Path to the collection file for the NgUniversal schematics */
    exports.collectionPath = path_1.join(__dirname, '..', 'collection.json');
    /** Create a base app used for testing. */
    function createTestApp(appOptions) {
        if (appOptions === void 0) { appOptions = {}; }
        var baseRunner = new testing_1.SchematicTestRunner('universal-schematics', exports.collectionPath);
        var workspaceTree = baseRunner.runExternalSchematic('@schematics/angular', 'workspace', {
            name: 'workspace',
            version: '6.0.0',
            newProjectRoot: 'projects',
        });
        return baseRunner.runExternalSchematic('@schematics/angular', 'application', __assign({}, appOptions, { name: 'bar' }), workspaceTree);
    }
    exports.createTestApp = createTestApp;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC1hcHAuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4vIiwic291cmNlcyI6WyJtb2R1bGVzL2V4cHJlc3MtZW5naW5lL3NjaGVtYXRpY3MvdGVzdGluZy90ZXN0LWFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBRUgsOERBQXFGO0lBQ3JGLDZCQUEwQjtJQUUxQixpRUFBaUU7SUFDcEQsUUFBQSxjQUFjLEdBQUcsV0FBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUV2RSwwQ0FBMEM7SUFDMUMsU0FBZ0IsYUFBYSxDQUFDLFVBQWU7UUFBZiwyQkFBQSxFQUFBLGVBQWU7UUFDM0MsSUFBTSxVQUFVLEdBQUcsSUFBSSw2QkFBbUIsQ0FBQyxzQkFBc0IsRUFBRSxzQkFBYyxDQUFDLENBQUM7UUFFbkYsSUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixFQUFFLFdBQVcsRUFBRTtZQUN4RixJQUFJLEVBQUUsV0FBVztZQUNqQixPQUFPLEVBQUUsT0FBTztZQUNoQixjQUFjLEVBQUUsVUFBVTtTQUMzQixDQUFDLENBQUM7UUFFSCxPQUFPLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsRUFBRSxhQUFhLGVBQ3JFLFVBQVUsSUFBRSxJQUFJLEVBQUUsS0FBSyxLQUFHLGFBQWEsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFYRCxzQ0FXQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQge1NjaGVtYXRpY1Rlc3RSdW5uZXIsIFVuaXRUZXN0VHJlZX0gZnJvbSAnQGFuZ3VsYXItZGV2a2l0L3NjaGVtYXRpY3MvdGVzdGluZyc7XG5pbXBvcnQge2pvaW59IGZyb20gJ3BhdGgnO1xuXG4vKiogUGF0aCB0byB0aGUgY29sbGVjdGlvbiBmaWxlIGZvciB0aGUgTmdVbml2ZXJzYWwgc2NoZW1hdGljcyAqL1xuZXhwb3J0IGNvbnN0IGNvbGxlY3Rpb25QYXRoID0gam9pbihfX2Rpcm5hbWUsICcuLicsICdjb2xsZWN0aW9uLmpzb24nKTtcblxuLyoqIENyZWF0ZSBhIGJhc2UgYXBwIHVzZWQgZm9yIHRlc3RpbmcuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGVzdEFwcChhcHBPcHRpb25zID0ge30pOiBVbml0VGVzdFRyZWUge1xuICBjb25zdCBiYXNlUnVubmVyID0gbmV3IFNjaGVtYXRpY1Rlc3RSdW5uZXIoJ3VuaXZlcnNhbC1zY2hlbWF0aWNzJywgY29sbGVjdGlvblBhdGgpO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVRyZWUgPSBiYXNlUnVubmVyLnJ1bkV4dGVybmFsU2NoZW1hdGljKCdAc2NoZW1hdGljcy9hbmd1bGFyJywgJ3dvcmtzcGFjZScsIHtcbiAgICBuYW1lOiAnd29ya3NwYWNlJyxcbiAgICB2ZXJzaW9uOiAnNi4wLjAnLFxuICAgIG5ld1Byb2plY3RSb290OiAncHJvamVjdHMnLFxuICB9KTtcblxuICByZXR1cm4gYmFzZVJ1bm5lci5ydW5FeHRlcm5hbFNjaGVtYXRpYygnQHNjaGVtYXRpY3MvYW5ndWxhcicsICdhcHBsaWNhdGlvbicsXG4gICAgey4uLmFwcE9wdGlvbnMsIG5hbWU6ICdiYXInfSwgd29ya3NwYWNlVHJlZSk7XG59XG4iXX0=